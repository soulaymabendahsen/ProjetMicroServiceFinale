<div class="cart-container">
  <h2 class="cart-title">Shopping Cart</h2>
  <div *ngIf="cartItems.length > 0; else emptyCart">
    <div class="cart-items">
      <!-- Cart Item -->
      <p class="message">{{ message }}</p>
      <div class="cart-item" *ngFor="let item of cartItems">
        <div class="item-image">
          <div class="item-image">
            <img [src]="getImageUrl(item.imageUrl)" 
                 [alt]="item.bookTitle" 
                 class="product-image"
                 onerror="this.src='assets/no-image.jpg'">
          </div>
          </div>
        <div class="item-details">
          <h4 class="item-name">{{item.bookTitle}}</h4> 


          <p class="item-price-h">{{ item.bookPrice}} TND</p>

          <div class="item-quantity">
            <button class="quantity-btn" (click)="updateCartItem(item.id, item.quantity - 1)" [disabled]="item.quantity <= 1">-</button>
            <span class="quantity">{{ item.quantity }}</span>
            <button class="quantity-btn" (click)="updateCartItem(item.id, item.quantity + 1)">+</button>
          </div>
        </div>
        <div class="item-actions">
       

          <div class="total-container">
            <h4 class="item">Total :</h4>
            <p class="item-price">{{ item.totalPrice }} TND</p>
          </div>
      </div>
        <button class="remove-btn" (click)="deleteCartItem(item.id)">
          <svg class="remove-icon" viewBox="0 0 24 24">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
          </svg>
        </button>
      </div>
    </div>
    <div class="cart-summary">
      <h4 class="summary-title">Order Summary</h4>
      <div class="summary-details">
        <p class="subtotal">Subtotal: <span>{{ getSubtotal() | currency }}</span></p>
        <p class="tax">Tax: <span>{{ getTax() | currency }}</span></p>
        <p class="total">Total: <span>{{ getTotal() | currency }}</span></p>
      </div>
      <button class="checkout-btn" (click)="proceedToCheckout()">Proceed to Checkout</button>
    </div>
  </div>
  <ng-template #emptyCart>
    <p class="empty-cart-message">Your cart is empty. Start shopping now!</p>
  </ng-template>
</div>