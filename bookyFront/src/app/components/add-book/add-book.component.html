<div class="add-book-container">
  <h2>Ajouter un nouveau livre</h2>
  
  <form (ngSubmit)="onSubmit()" #bookForm="ngForm"enctype="multipart/form-data">
    <div class="form-group">
      <label for="title">Titre</label>
      <input type="text" id="title" name="title" [(ngModel)]="book.title" required>
    </div>

    <div class="form-group">
      <label for="author">Auteur</label>
      <input type="text" id="author" name="author" [(ngModel)]="book.author" required>
    </div>

    <div class="form-group">
      <label for="genre">Genre</label>
      <select id="genre" name="genre" [(ngModel)]="book.genre" required>
        <option value="ROMANCE" [selected]="book.genre === 'ROMANCE'">Romance</option>
          <option value="SCIENCE_FICTION" [selected]="book.genre === 'SCIENCE_FICTION'">Science-Fiction</option>
          <option value="FANTASY" [selected]="book.genre === 'FANTASY'">Fantasy</option>
          <option value="HORROR" [selected]="book.genre === 'HORROR'">Horror</option>
          <option value="FICTION" [selected]="book.genre === 'FICTION'">Fiction</option>
          <option value="HISTORY" [selected]="book.genre === 'HISTORY'">History</option>
          <option value="BIOGRAPHY" [selected]="book.genre === 'BIOGRAPHY'">Biography</option>
          <option value="MYSTERY" [selected]="book.genre === 'MYSTERY'">MYSTERY</option>


      </select>
    </div>

    <div class="form-group">
      <label for="image">Image du livre</label>
      <input type="file" id="image" name="image" (change)="onFileSelected($event)" accept="image/*">
      <small *ngIf="book.imageUrl" class="image-preview">
        <img [src]="book.imageUrl" alt="Preview" height="100" *ngIf="book.imageUrl">
      </small>
    </div>
    <div class="form-group">
      <label for="price">Prix</label>
      <input type="number" step="0.01" id="price" name="price" [(ngModel)]="book.price" required>
    </div>

    <div class="form-group">
      <label for="publicationDate">Date de publication</label>
      <input type="date" id="publicationDate" name="publicationDate" [(ngModel)]="book.publicationDate" required>
    </div>

    <div class="form-group">
      <label for="quantite">Quantité</label>
      <input type="number" id="quantite" name="quantite" [(ngModel)]="book.quantite" required min="0">
    </div>

    <div class="form-group">
      <label for="resume">Résumé du livre</label>
      <textarea id="resume" name="resume" [(ngModel)]="book.resume" rows="4" class="form-control" placeholder="Entrez un bref résumé du livre..."></textarea>
    </div>

    <div class="form-group">
      <label for="language">Langue</label>
      <select id="language" name="language" [(ngModel)]="book.language" required>
        <option value="FRANCAIS">Français</option>
        <option value="ANGLAIS">Anglais</option>
        <option value="ARABE">Arabe</option>
      </select>
    </div>

    <div class="form-group checkbox">
      <label for="available">Disponible</label>
      <input type="checkbox" id="available" name="available" [(ngModel)]="book.available">
    </div>

    <div class="button-group">
      <button type="submit" [disabled]="!bookForm.valid">Enregistrer</button>
      <button type="button" (click)="goBack()">Annuler</button>
    </div>
  </form>
</div>